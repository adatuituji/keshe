#include "config.h"
#include "lib_io.h"
#include "lib_arm.h"
int main(void)
{
int s;
int i;
Initial_ARM();
while(1)
{
s=0;
for(i=0;i<4;i++) //依次读取传感器的触发状态，并给变量 s 的低 3 位分别置 0 或者置 1
{
s=s|(Input(i+1,1)<<i);
if(Input(i+1,1)==1) LedIn(i+1,1);
else LedIn(i+1,0);
}
switch(s) //根据变量 s 低 3 位所存储的传感器触发状态，让小车前进后退或转弯
{
case 0x01:{Servo(1,160);Servo(2,100);Servo(3,160);Servo(4,100);DelayNS(1500);}break; //端口1近地红外置1（左前红外）
case 0x02:{Servo(1,20);Servo(2,100);Servo(3,160);Servo(4,100);DelayNS(1500);}break; //端口2近地红外置1（右前红外）
case 0x04:{Servo(1,90);Servo(2,180);Servo(3,160);Servo(4,100);DelayNS(1500);}break; //端口3近地红外置1（后红外）
case 0x03:{Servo(1,90);Servo(2,180);Servo(3,160);Servo(4,100);DelayNS(1500);}break; //端口1,2近地红外置1（前左右红外）
case 0x08:Act_Stop();break; //端口4黑标置1（处在黑标上）
default:;break;
}
}
return(1);
}
